<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Editoggia{% endblock %}</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;800&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet" />
    {% assets 'css_all' %}
    <link href="{{ ASSET_URL }}" rel="stylesheet"> 
  {% endassets %}
  </head>
  <body>
    {% include '_navbar.jinja2' %}
    
    {# Flash messages from the view #}
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
	<div id="messages">
	  {% for category, message in messages %}
	    <div class="alert alert-{{ category }} alert-dismissible" role="alert">
	      <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">Ã—</span></button>
	      {{ message }}
	    </div>
	  {% endfor %}
	</div>
      {% endif %}
    {% endwith %}
    
    <main>
      {% block content %}
	
      {% endblock %}
    </main>
    {% include '_footer.jinja2' %}
    {% block javascript %}
      {% assets 'js_all' %}
      <script type="text/javascript" src="{{ ASSET_URL }}"></script>
    {% endassets %}
  {% endblock %}

  <!-- Set up CSRF token for JQuery request -->
  <script type="text/javascript">
    var csrf_token = "{{ csrf_token() }}";
    
    $.ajaxSetup({
    beforeSend: function(xhr, settings) {
    if (!/^(GET|HEAD|OPTIONS|TRACE)$/i.test(settings.type) && !this.crossDomain) {
    xhr.setRequestHeader("X-CSRFToken", csrf_token);
    }
    }
    });
  </script>
  </body>
</html>
